# 数据库运作
* 每新建一个空白区域，就会在数据库中插入一张表，其中 stallList 数组存放当前区域内的所有座位， 里面有两种状态：0 和 1 分别表示可选和空白区域。

* 当该区域进入数据库时，就拥有了预约的功能，预约的表和区域的表是不同的，一是要记录当前用户的历史预约情况，二是使预约和座位状态分离，使得不同预约时间查询到的座位可以拥有不同的状态。

预约需要用户做什么呢？

* 首先是根据用户设置的时间获得两个时间片 (start 和 end) 根据这两个时间片查询指定区域的预约情况，（有预约记录就会查到）根据查询的结果展示当前的座位信息。需要存储用户的信息有：预约的开始时间和结束时间，确认预约的时间； 预约区域的id， 预约座位的行列号；

但是这个设计不是完全没有问题的，首先在目前的demo里，没有“新建区域”和上线之间的缓冲状态，即存在着新建区域即上线的问题。此外，在预约进行的同时，允许管理员进行摊位的布局势必会影响到预约活动的进行。例如当前区域内某些位置已经有了预约，但是因为特殊原因进行了摊位调整，此时如何做到对已经预约摊位的调整也是一个新的问题。